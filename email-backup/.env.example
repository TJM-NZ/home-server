# Email Backup Configuration

# Storage path for email backups (raw .eml files, SQLite DB, extracted attachments)
BACKUP_STORAGE_PATH=/mnt/immich-storage/email-backup

# Google OAuth2 credentials file (mount this into the container)
GOOGLE_CREDENTIALS_FILE=/config/credentials.json

# Google OAuth2 token file (persisted so you don't re-auth every run)
GOOGLE_TOKEN_FILE=/config/token.json

# Gmail label to back up (emails with this label will be downloaded)
EMAIL_BACKUP_LABEL=Backup

# Gmail label that protects emails from cleanup deletion
EMAIL_KEEP_LABEL=Keep

# Retention period in days before cleanup deletes from Gmail (default: 730 = 2 years)
RETENTION_DAYS=730

# Timezone
TZ=Pacific/Auckland

# ntfy topic for backup notifications (leave empty to disable)
NTFY_TOPIC=email-backup

# ntfy topic for commands (send "backup emails" or "cleanup emails" to trigger)
# Defaults to {NTFY_TOPIC}-cmd if not set
NTFY_COMMANDS_TOPIC=email-backup-cmd

# Secret for authenticating ntfy commands (commands must be sent as "secret:command")
NTFY_COMMAND_SECRET=changeme

# Paperless-ngx consume directory (for future attachment integration)
# Uncomment when Paperless is set up
# PAPERLESS_CONSUME_DIR=/mnt/paperless/consume
